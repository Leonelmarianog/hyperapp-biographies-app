var e={},n=[],t=e=>e,l=n.map,o=Array.isArray,r="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout,i=e=>{var n="";if("string"==typeof e)return e;if(o(e))for(var t,l=0;l<e.length;l++)(t=i(e[l]))&&(n+=(n&&" ")+t);else for(var l in e)e[l]&&(n+=(n&&" ")+l);return n},s=(e,n)=>{for(var t in{...e,...n})if("function"==typeof(o(e[t])?e[t][0]:e[t]))n[t]=e[t];else if(e[t]!==n[t])return!0},a=e=>null==e?e:e.key,d=(e,n,t,l,o,r)=>{if("key"===n);else if("style"===n)for(var s in{...t,...l})t=null==l||null==l[s]?"":l[s],"-"===s[0]?e[n].setProperty(s,t):e[n][s]=t;else"o"===n[0]&&"n"===n[1]?((e.events||(e.events={}))[n=n.slice(2)]=l)?t||e.addEventListener(n,o):e.removeEventListener(n,o):!r&&"list"!==n&&"form"!==n&&n in e?e[n]=null==l?"":l:null==l||!1===l||"class"===n&&!(l=i(l))?e.removeAttribute(n):e.setAttribute(n,l)},c=(e,n,t)=>{var l=e.props,o=3===e.type?document.createTextNode(e.tag):(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,l.is&&l):document.createElement(e.tag,l.is&&l);for(var r in l)d(o,r,null,l[r],n,t);for(var i=0;i<e.children.length;i++)o.appendChild(c(e.children[i]=g(e.children[i]),n,t));return e.node=o},u=(e,n,t,l,o,r)=>{if(t===l);else if(null!=t&&3===t.type&&3===l.type)t.tag!==l.tag&&(n.nodeValue=l.tag);else if(null==t||t.tag!==l.tag)n=e.insertBefore(c(l=g(l),o,r),n),null!=t&&e.removeChild(t.node);else{var i,s,p,h,m=t.props,f=l.props,v=t.children,y=l.children,b=0,k=0,w=v.length-1,$=y.length-1;for(var A in r=r||"svg"===l.tag,{...m,...f})("value"===A||"selected"===A||"checked"===A?n[A]:m[A])!==f[A]&&d(n,A,m[A],f[A],o,r);for(;k<=$&&b<=w&&null!=(p=a(v[b]))&&p===a(y[k]);)u(n,v[b].node,v[b],y[k]=g(y[k++],v[b++]),o,r);for(;k<=$&&b<=w&&null!=(p=a(v[w]))&&p===a(y[$]);)u(n,v[w].node,v[w],y[$]=g(y[$--],v[w--]),o,r);if(b>w)for(;k<=$;)n.insertBefore(c(y[k]=g(y[k++]),o,r),(s=v[b])&&s.node);else if(k>$)for(;b<=w;)n.removeChild(v[b++].node);else{var C={},E={};for(A=b;A<=w;A++)null!=(p=v[A].key)&&(C[p]=v[A]);for(;k<=$;)p=a(s=v[b]),h=a(y[k]=g(y[k],s)),E[p]||null!=h&&h===a(v[b+1])?(null==p&&n.removeChild(s.node),b++):null==h||1===t.type?(null==p&&(u(n,s&&s.node,s,y[k],o,r),k++),b++):(p===h?(u(n,s.node,s,y[k],o,r),E[h]=!0,b++):null!=(i=C[h])?(u(n,n.insertBefore(i.node,s&&s.node),i,y[k],o,r),E[h]=!0):u(n,s&&s.node,null,y[k],o,r),k++);for(;b<=w;)null==a(s=v[b++])&&n.removeChild(s.node);for(var A in C)null==E[A]&&n.removeChild(C[A].node)}}return l.node=n},g=(e,n)=>!0!==e&&!1!==e&&e?"function"==typeof e.tag?((!n||null==n.memo||((e,n)=>{for(var t in e)if(e[t]!==n[t])return!0;for(var t in n)if(e[t]!==n[t])return!0})(n.memo,e.memo))&&((n=e.tag(e.memo)).memo=e.memo),n):e:m(""),p=n=>3===n.nodeType?m(n.nodeValue,n):h(n.nodeName.toLowerCase(),e,l.call(n.childNodes,p),1,n),h=(e,n,t,l,o)=>({tag:e,props:n,key:n.key,children:t,type:l,node:o}),m=(t,l)=>h(t,e,n,3,l);const f=e=>" "==e||"\t"==e||"\n"==e||"\r"==e,v=(e,t)=>{let l,r,i,s,a,d=[],c="",u=0,g=!0;const p=e=>(e||0===e)&&d.push("string"==typeof e?m(e):"number"==typeof e?m(""+e):e),v=(e,t=e.flat(2))=>{p(l.call?l(i,t):((e,t,l=n)=>h(e,t,o(l)?l:[l]))(l,i,t)),u=0},y=e=>{e&&(c=c.trimEnd()),c&&p(c),g=!1,c=""},b=()=>{s=[d,l,i,s],d=[],u=0},k=(e=u)=>{l=c,c="",i={},u=e},w=(e=u)=>{i[c]=!0,u=e,c=""},$=e=>{i[r]=e,u=5,c=""},A=()=>{let e=d;[d,l,i,s]=s,v(e)};for(let n=0;n<e.length;n++){for(let t=0;t<e[n].length;t++)a=e[n][t],0==u?"<"==a?u=2:f(a)?"\n"==a?g=!0:g||(u=1,c=a):(u=1,c=a):1==u?"<"==a?u=2:"\n"==a?(y(!1),g=!0,u=0):c+=a:2==u?"/"==a?(u=3,y(!0)):(u=4,y(!1),c=a):3==u?">"==a&&A():4==u?f(a)?k(5):"/"==a?k(6):">"==a?(k(),b()):c+=a:6==u?">"==a&&v([]):5==u?"."==a||("/"==a?u=6:">"==a?b():f(a)||(c=a,u=7)):7==u?"="==a?(r=c,u=8):">"==a?(w(),b()):"/"==a?w(6):f(a)?w(5):c+=a:8==u?'"'==a&&(u=9,c=""):9==u&&('"'==a?$(c):c+=a);2==u?(l=t[n],i={},u=5):1==u?(y(!t[n]),p(t[n])):5==u?i={...i,...t[n]}:8==u?$(t[n]):9==u?c+=t[n]:0==u&&null!=t[n]&&p(t[n])}return d=d.flat(2),d.length>1?d:d[0]};var y=(e,...n)=>v(e,n);const b=async(e,n)=>{const t=await fetch(n.url),l=await t.json();e(n.action,l)},k=(e,n)=>[b,{url:e,action:n}],w=(e,n)=>{const t={...e.loading};return t[n]=!t[n],t},$=(e,n)=>{const t=[...e.highlight];return t[n]=!t[n],{...e,highlight:t}},A=(e,n)=>({...e,bio:n.company.bs,loading:w(e,"bio")}),C=(e,n)=>[{...e,selected:n,loading:w(e,"bio")},k(`https://jsonplaceholder.typicode.com/users/${e.ids[n]}`,A)],E=e=>null===e.selected?e:[C,e.selected-1],L=e=>null===e.selected?e:[C,e.selected+1];var N=({name:e,highlight:n,selected:t,ontoggle:l,onselect:o})=>{return y`
  <li
    class=${{person:!0,"person-active":n,"person-selected":t}}
    data-cy=${r=e,r.trim().replace(/\s+/g,"-").toLowerCase()}
    onclick=${o}
  >
    <input
      type="checkbox"
      checked=${n}
      onclick=${(e,n)=>(n.stopPropagation(),l)}
    />
    <p>${e}</p>
  </li>
`;var r};const B=(e,n)=>{const t=t=>{t.key===n.key&&e(n.action)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},j=(e,n)=>[B,{key:e,action:n}];(({node:l,view:i,subscriptions:a,dispatch:d=t,init:c=e})=>{var g,h,m=l&&p(l),f=[],v=e=>{g!==e&&(null==(g=e)&&(d=a=y=t),a&&(f=((e,t=n,l)=>{for(var o,r,i=[],a=0;a<e.length||a<t.length;a++)o=e[a],r=t[a],i.push(r&&!0!==r?!o||r[0]!==o[0]||s(r[1],o[1])?[r[0],r[1],(o&&o[2](),r[0](l,r[1]))]:o:o&&o[2]());return i})(f,a(g),d)),i&&!h&&r(y,h=!0))},y=()=>l=u(l.parentNode,l,m,m=i(g),b,h=!1),b=function(e){d(this.events[e.type],e)};(d=d(((e,n)=>"function"==typeof e?d(e(g,n)):o(e)?"function"==typeof e[0]?d(e[0],e[1]):e.slice(1).map((e=>e&&!0!==e&&e[0](d,e[1])),v(e[0])):v(e))))(c)})({init:[{names:null,highlight:[],selected:null,bio:null,ids:[],loading:{names:!0,bio:!1}},k("https://jsonplaceholder.typicode.com/users",((e,n)=>{const t=n.slice(0,5).map((e=>e.name)),l=n.slice(0,5).map((e=>e.id));return{...e,ids:l,names:t,highlight:[!1,!1,!1,!1,!1],loading:w(e,"names")}}))],view:e=>y`
    <main>
      ${e.loading.names?y`<div data-cy="loading-names-helper">Loading...</div>`:y`<ul class="person-list" data-cy="person-list">
            ${e.names.map(((n,t)=>N({name:n,highlight:e.highlight[t],selected:e.selected===t,ontoggle:[$,t],onselect:[C,t]})))}
          </ul>`}
      ${e.loading.bio?y`<div data-cy="loading-bio-helper">Loading bio...</div>`:y`<div data-cy="bio">${e.bio}</div>`}
    </main>
  `,subscriptions:e=>{const n=null!==e.selected&&e.selected>0,t=null!==e.selected&&e.selected<e.ids.length-1;return[n&&j("ArrowUp",E),t&&j("ArrowDown",L)]},node:document.getElementById("root")});
//# sourceMappingURL=index.bea2d05a.js.map
